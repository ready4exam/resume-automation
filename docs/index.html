<!DOCTYPE html>
<html>
<head>
  <title>Private Resume Tailor</title>
  <style>
    body { font-family: Arial; margin: 40px; max-width: 700px; }
    input, textarea { width: 100%; padding: 12px; border-radius: 6px; border: 1px solid #888; margin-bottom: 15px; }
    button { padding: 12px 20px; background: black; color: white; border: none; border-radius: 6px; cursor: pointer; }
    button:hover { background: #444; }
  </style>
</head>
<body>

<h2>AI Resume Tailor (Private)</h2>

<form id="form">
  <label>Company</label>
  <input id="company" required>

  <label>Job Title</label>
  <input id="jobTitle" required>

  <label>Job Description</label>
  <textarea id="jobDesc" rows="10" required></textarea>

  <label>Extra Instructions</label>
  <textarea id="extra" rows="4"></textarea>

  <button type="submit">Generate Resume</button>
</form>

<p id="status"></p>

<script>
  const token = "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";  <!-- insert your PAT -->
  const repo = "ready4exam/resume-automation";  <!-- ex: keshavkarn/resume-ai -->

  document.getElementById("form").addEventListener("submit", async (e) => {
    e.preventDefault();

    document.getElementById("status").innerText = "Starting resume generation...";

    const url = `https://api.github.com/repos/${repo}/actions/workflows/tailor-resume.yml/dispatches`;

    const body = {
      ref: "main",
      inputs: {
        company: document.getElementById("company").value,
        job_title: document.getElementById("jobTitle").value,
        job_description: document.getElementById("jobDesc").value,
        extra: document.getElementById("extra").value
      }
    };

    const resp = await fetch(url, {
      method: "POST",
      headers: {
        "Accept": "application/vnd.github+json",
        "Authorization": `Bearer ${token}`
      },
      body: JSON.stringify(body)
    });

    if (resp.ok) {
      document.getElementById("status").innerHTML =
        "<b>Resume generation started!</b><br>Check GitHub Actions in 20â€“30 seconds.";
    } else {
      document.getElementById("status").innerText = "Failed: " + (await resp.text());
    }
  });
</script>

</body>
</html>
